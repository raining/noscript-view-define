{"version":3,"sources":["webpack:///define-compact.min.js","webpack:///webpack/bootstrap 3b8d6866ddcfb371e405","webpack:///./define.js","webpack:///external \"_\"","webpack:///external \"ns\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","wrapperEvents","srcFunc","objFunc","_len3","arguments","length","args","Array","_key3","resultSrc","isFunction","apply","this","invoke","concat","resultObj","ns","DEBUG","isUndefined","warn","eventsCustomizer","objValue","srcValue","key","checkIgnoreMerge","assert","fail","wrap","groupEventsCustomizer","mergeWith","methodsCustomizer","mergeCustomizer","_formatModelsDecl","viewInfo","info","isString","View","inheritInfo","classExtend","child","mixins","clone","parent","pop","customizer","bind","get","reverse","unshift","map","mixin","pick","PATH_EXTENDS","push","spreadMergeWith","PATH_PARENT_EXTENDS","defaults","_require","last","spread","func","_len","_key","text","shift","window","log","_len2","_key2","ViewCollection","forEach","defineNg","_len4","_key4","define","defineModelEvents","events","defaultDecl","undefined","test","_"],"mappings":"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","file":"define-compact.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _require = __webpack_require__(1);\n\t\n\tvar clone = _require.clone;\n\tvar concat = _require.concat;\n\tvar defaults = _require.defaults;\n\tvar get = _require.get;\n\tvar invoke = _require.invoke;\n\tvar isFunction = _require.isFunction;\n\tvar isString = _require.isString;\n\tvar isUndefined = _require.isUndefined;\n\tvar last = _require.last;\n\tvar map = _require.map;\n\tvar mergeWith = _require.mergeWith;\n\tvar pick = _require.pick;\n\tvar reverse = _require.reverse;\n\tvar spread = _require.spread;\n\tvar wrap = _require.wrap;\n\t\n\t\n\tvar ns = __webpack_require__(2);\n\t\n\t/**\n\t * Свойства, которые будут учтены при объединении миксинов.\n\t * Порядок важен: первым должны объединить методы.\n\t * @type {array}\n\t */\n\tvar PATH_EXTENDS = ['methods', 'ctor', 'events', 'models'];\n\t\n\t/**\n\t * Свойства, которые будут учтены при объединении предка.\n\t * @type {array}\n\t */\n\tvar PATH_PARENT_EXTENDS = ['ctor', 'events', 'models'];\n\t\n\t/**\n\t * Объединение объектов, переданных в виде массива.\n\t * @type {function}\n\t */\n\tvar spreadMergeWith = spread(mergeWith);\n\t\n\t/**\n\t * Вывод предупреждения в консоль\n\t * @type {function}\n\t */\n\tvar warn = wrap(invoke, function (func) {\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t        args[_key - 1] = arguments[_key];\n\t    }\n\t\n\t    var text = args.shift();\n\t    func.apply(undefined, [window, 'console.warn', '[ns.View.define] ' + text].concat(args));\n\t});\n\t\n\t/**\n\t * Вывод лога в консоль\n\t * @type {function}\n\t */\n\tvar log = wrap(invoke, function (func) {\n\t    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t        args[_key2 - 1] = arguments[_key2];\n\t    }\n\t\n\t    var text = args.shift();\n\t    func.apply(undefined, [window, 'console.log', '[ns.View.define] ' + text].concat(args));\n\t});\n\t\n\tfunction wrapperEvents(srcFunc, objFunc) {\n\t    for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n\t        args[_key3 - 2] = arguments[_key3];\n\t    }\n\t\n\t    var resultSrc = srcFunc && (isFunction(srcFunc) ? srcFunc.apply(this, args) : invoke.apply(undefined, [this, srcFunc].concat(args)));\n\t    var resultObj = objFunc && (isFunction(objFunc) ? objFunc.apply(this, args) : invoke.apply(undefined, [this, objFunc].concat(args)));\n\t\n\t    if (ns.DEBUG && !(isUndefined(resultSrc) && isUndefined(resultObj))) {\n\t        warn('Обработчик события не должен возвращать результат');\n\t    }\n\t}\n\t\n\t/**\n\t * Объединение колбеков одинаковых событий\n\t * @param {string|function} objValue\n\t * @param {string|function} srcValue\n\t * @param {string} key\n\t * @returns {string|function}\n\t */\n\tfunction eventsCustomizer(objValue, srcValue, key) {\n\t    if (checkIgnoreMerge(objValue, srcValue)) {\n\t        return srcValue;\n\t    }\n\t\n\t    if (objValue === 'invalidate' && srcValue === 'keepValid' || objValue === 'keepValid' && srcValue === 'invalidate') {\n\t\n\t        ns.assert.fail('ns.View.define', 'Попытка определить подписки с противоположными действиями. Событие: %s', key);\n\t    }\n\t\n\t    return wrap(objValue, wrap(srcValue, wrapperEvents));\n\t}\n\t\n\t/**\n\t * Объединение объектов событий\n\t * @param {Object} objValue\n\t * @param {Object} srcValue\n\t * @returns {Object}\n\t */\n\tfunction groupEventsCustomizer(objValue, srcValue) {\n\t    if (checkIgnoreMerge(objValue, srcValue)) {\n\t        return srcValue;\n\t    }\n\t\n\t    return mergeWith(objValue, srcValue, eventsCustomizer);\n\t}\n\t\n\t/**\n\t * Объединение методов и свойств.\n\t * Методы и свойства переопределяются в порядке перечисления миксинов.\n\t * Дитё переопределяет любой метод и свойство.\n\t * @param {*} objValue\n\t * @param {*} srcValue\n\t * @returns {*}\n\t */\n\tfunction methodsCustomizer(objValue, srcValue) {\n\t    if (checkIgnoreMerge(objValue, srcValue)) {\n\t        return srcValue;\n\t    }\n\t\n\t    return objValue;\n\t}\n\t\n\t/**\n\t * Объединения данных при наследовании\n\t * @param {*} objValue\n\t * @param {*} srcValue\n\t * @param {string} key\n\t * @returns {*}\n\t */\n\tfunction mergeCustomizer(objValue, srcValue, key) {\n\t    if (checkIgnoreMerge(objValue, srcValue)) {\n\t        return srcValue;\n\t    }\n\t\n\t    if (key === 'methods') {\n\t        return mergeWith(objValue, srcValue, methodsCustomizer);\n\t    }\n\t\n\t    if (key === 'events') {\n\t        return groupEventsCustomizer(objValue, srcValue);\n\t    }\n\t\n\t    if (key === 'models') {\n\t        return mergeWith(this._formatModelsDecl(objValue), this._formatModelsDecl(srcValue), groupEventsCustomizer);\n\t    }\n\t\n\t    if (key === 'ctor') {\n\t        return function () {\n\t            srcValue && srcValue.call(this);\n\t            objValue && objValue.call(this);\n\t        };\n\t    }\n\t}\n\t\n\t/**\n\t * Получение информации по виду\n\t * @param {Object|string} info\n\t * @returns {Object}\n\t */\n\tfunction viewInfo(info) {\n\t    return isString(info) && ns.View.info(info) || info;\n\t}\n\t\n\t/**\n\t * Проверка необходимости выполнения слияния\n\t * @param {*} objValue\n\t * @param {*} srcValue\n\t * @returns {boolean}\n\t */\n\tfunction checkIgnoreMerge(objValue, srcValue) {\n\t    return isUndefined(objValue) || objValue === srcValue;\n\t}\n\t\n\t/**\n\t * Хелпер для наследования событийных привязок и методов\n\t * @param {Object} classExtend Расширяемый объект\n\t * @param {Object} child Объект-информация о сущности\n\t * @param {array} mixins Массив имен предков\n\t * @returns {Object} Модифицированный объект-информация\n\t */\n\tfunction inheritInfo(classExtend, child, mixins) {\n\t    mixins = clone(mixins);\n\t    var parent = viewInfo(mixins.pop());\n\t    var customizer = mergeCustomizer.bind(classExtend);\n\t\n\t    var info = get(child, 'mixins', []);\n\t    info = concat(info, mixins);\n\t    info = reverse(info);\n\t    info.unshift(child);\n\t    info = map(info, function (mixin) {\n\t        return pick(viewInfo(mixin), PATH_EXTENDS);\n\t    });\n\t    info.push(customizer);\n\t    info = spreadMergeWith(info);\n\t    info = mergeWith(info, pick(parent, PATH_PARENT_EXTENDS), customizer);\n\t    info = defaults(info, child);\n\t\n\t    return info;\n\t}\n\t\n\t[ns.View, ns.ViewCollection].forEach(function (classExtend) {\n\t\n\t    /**\n\t     * Декларация вида\n\t     * @param {string} id идентификатор вида\n\t     * @param {Object} info параметры вида\n\t     * @param {...string|Object} mixins набор миксинов, последним указывается предок\n\t     * @returns {function} конструктор\n\t     */\n\t    classExtend.defineNg = function (id, info) {\n\t        for (var _len4 = arguments.length, mixins = Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n\t            mixins[_key4 - 2] = arguments[_key4];\n\t        }\n\t\n\t        ns.DEBUG && log('Определение вида %s, mixins: %o, %o', id, mixins, get(info, 'mixins', []));\n\t        return classExtend.define(id, inheritInfo(classExtend, info, mixins), last(mixins));\n\t    };\n\t\n\t    /**\n\t     * Формирование объекта событий модели\n\t     * @param {Object} events пользовательские события\n\t     * @param {Object|boolean} [defaultDecl=false] значение событий по умолчанию\n\t     * @returns {Object}\n\t     */\n\t    classExtend.defineModelEvents = function (events) {\n\t        var defaultDecl = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t        return defaults({}, events, get(classExtend._formatModelsDecl({ test: defaultDecl }), 'test'));\n\t    };\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = _;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ns;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** define-compact.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3b8d6866ddcfb371e405\n **/","const {\n    clone,\n    concat,\n    defaults,\n    get,\n    invoke,\n    isFunction,\n    isString,\n    isUndefined,\n    last,\n    map,\n    mergeWith,\n    pick,\n    reverse,\n    spread,\n    wrap\n} = require('lodash');\n\nconst ns = require('ns');\n\n/**\n * Свойства, которые будут учтены при объединении миксинов.\n * Порядок важен: первым должны объединить методы.\n * @type {array}\n */\nconst PATH_EXTENDS = [ 'methods', 'ctor', 'events', 'models' ];\n\n/**\n * Свойства, которые будут учтены при объединении предка.\n * @type {array}\n */\nconst PATH_PARENT_EXTENDS = [ 'ctor', 'events', 'models' ];\n\n/**\n * Объединение объектов, переданных в виде массива.\n * @type {function}\n */\nconst spreadMergeWith = spread(mergeWith);\n\n/**\n * Вывод предупреждения в консоль\n * @type {function}\n */\nconst warn = wrap(invoke, function (func, ...args) {\n    const text = args.shift();\n    func(window, 'console.warn', '[ns.View.define] ' + text, ...args);\n});\n\n/**\n * Вывод лога в консоль\n * @type {function}\n */\nconst log = wrap(invoke, function (func, ...args) {\n    const text = args.shift();\n    func(window, 'console.log', '[ns.View.define] ' + text, ...args);\n});\n\nfunction wrapperEvents(srcFunc, objFunc, ...args) {\n    const resultSrc = srcFunc && (isFunction(srcFunc) ? srcFunc.apply(this, args) : invoke(this, srcFunc, ...args));\n    const resultObj = objFunc && (isFunction(objFunc) ? objFunc.apply(this, args) : invoke(this, objFunc, ...args));\n\n    if (ns.DEBUG && !(isUndefined(resultSrc) && isUndefined(resultObj))) {\n        warn('Обработчик события не должен возвращать результат');\n    }\n}\n\n/**\n * Объединение колбеков одинаковых событий\n * @param {string|function} objValue\n * @param {string|function} srcValue\n * @param {string} key\n * @returns {string|function}\n */\nfunction eventsCustomizer(objValue, srcValue, key) {\n    if (checkIgnoreMerge(objValue, srcValue)) {\n        return srcValue;\n    }\n\n    if ((objValue === 'invalidate' && srcValue === 'keepValid') ||\n        (objValue === 'keepValid' && srcValue === 'invalidate')) {\n\n        ns.assert.fail('ns.View.define', 'Попытка определить подписки с противоположными действиями. Событие: %s', key);\n    }\n\n    return wrap(objValue, wrap(srcValue, wrapperEvents));\n}\n\n/**\n * Объединение объектов событий\n * @param {Object} objValue\n * @param {Object} srcValue\n * @returns {Object}\n */\nfunction groupEventsCustomizer(objValue, srcValue) {\n    if (checkIgnoreMerge(objValue, srcValue)) {\n        return srcValue;\n    }\n\n    return mergeWith(objValue, srcValue, eventsCustomizer);\n}\n\n/**\n * Объединение методов и свойств.\n * Методы и свойства переопределяются в порядке перечисления миксинов.\n * Дитё переопределяет любой метод и свойство.\n * @param {*} objValue\n * @param {*} srcValue\n * @returns {*}\n */\nfunction methodsCustomizer(objValue, srcValue) {\n    if (checkIgnoreMerge(objValue, srcValue)) {\n        return srcValue;\n    }\n\n    return objValue;\n}\n\n/**\n * Объединения данных при наследовании\n * @param {*} objValue\n * @param {*} srcValue\n * @param {string} key\n * @returns {*}\n */\nfunction mergeCustomizer(objValue, srcValue, key) {\n    if (checkIgnoreMerge(objValue, srcValue)) {\n        return srcValue;\n    }\n\n    if (key === 'methods') {\n        return mergeWith(objValue, srcValue, methodsCustomizer);\n    }\n\n    if (key === 'events') {\n        return groupEventsCustomizer(objValue, srcValue);\n    }\n\n    if (key === 'models') {\n        return mergeWith(\n            this._formatModelsDecl(objValue),\n            this._formatModelsDecl(srcValue),\n            groupEventsCustomizer\n        );\n    }\n\n    if (key === 'ctor') {\n        return function () {\n            srcValue && srcValue.call(this);\n            objValue && objValue.call(this);\n        };\n    }\n}\n\n/**\n * Получение информации по виду\n * @param {Object|string} info\n * @returns {Object}\n */\nfunction viewInfo(info) {\n    return isString(info) && ns.View.info(info) || info;\n}\n\n/**\n * Проверка необходимости выполнения слияния\n * @param {*} objValue\n * @param {*} srcValue\n * @returns {boolean}\n */\nfunction checkIgnoreMerge(objValue, srcValue) {\n    return isUndefined(objValue) || objValue === srcValue;\n}\n\n/**\n * Хелпер для наследования событийных привязок и методов\n * @param {Object} classExtend Расширяемый объект\n * @param {Object} child Объект-информация о сущности\n * @param {array} mixins Массив имен предков\n * @returns {Object} Модифицированный объект-информация\n */\nfunction inheritInfo(classExtend, child, mixins) {\n    mixins = clone(mixins);\n    const parent = viewInfo(mixins.pop());\n    const customizer = mergeCustomizer.bind(classExtend);\n\n    let info = get(child, 'mixins', []);\n    info = concat(info, mixins);\n    info = reverse(info);\n    info.unshift(child);\n    info = map(info, mixin => pick(viewInfo(mixin), PATH_EXTENDS));\n    info.push(customizer);\n    info = spreadMergeWith(info);\n    info = mergeWith(info, pick(parent, PATH_PARENT_EXTENDS), customizer);\n    info = defaults(info, child);\n\n    return info;\n}\n\n[ ns.View, ns.ViewCollection ].forEach(function (classExtend) {\n\n    /**\n     * Декларация вида\n     * @param {string} id идентификатор вида\n     * @param {Object} info параметры вида\n     * @param {...string|Object} mixins набор миксинов, последним указывается предок\n     * @returns {function} конструктор\n     */\n    classExtend.defineNg = function (id, info, ...mixins) {\n        ns.DEBUG && log('Определение вида %s, mixins: %o, %o', id, mixins, get(info, 'mixins', []));\n        return classExtend.define(id, inheritInfo(classExtend, info, mixins), last(mixins));\n    };\n\n    /**\n     * Формирование объекта событий модели\n     * @param {Object} events пользовательские события\n     * @param {Object|boolean} [defaultDecl=false] значение событий по умолчанию\n     * @returns {Object}\n     */\n    classExtend.defineModelEvents = function (events, defaultDecl = false) {\n        return defaults({}, events, get(classExtend._formatModelsDecl({ test: defaultDecl }), 'test'));\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./define.js\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ns;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ns\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}