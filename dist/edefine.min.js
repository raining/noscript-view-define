!function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function i(e,n){for(var t=arguments.length,i=Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var o=e&&(u.isFunction(e)?e.apply(this,i):u.invoke.apply(u,[this,e].concat(i))),s=n&&(u.isFunction(n)?n.apply(this,i):u.invoke.apply(u,[this,n].concat(i)));!d.DEBUG||u.isUndefined(o)&&u.isUndefined(s)||m("Обработчик события не должен возвращать результат")}function r(e,n,t){return f(e,n)?n:(("invalidate"===e&&"keepValid"===n||"keepValid"===e&&"invalidate"===n)&&d.assert.fail("ns.View.edefine","Попытка определить подписки с противоположными действиями. Событие: %s",t),u.wrap(e,u.wrap(n,i)))}function o(e,n){return f(e,n)?n:u.mergeWith(e,n,r)}function s(e,n){return f(e,n)?n:e}function a(e,n,t){return f(e,n)?n:"methods"===t?u.mergeWith(e,n,s):"events"===t?o(e,n):"models"===t?u.mergeWith(this._formatModelsDecl(e),this._formatModelsDecl(n),o):"ctor"===t?function(){n&&n.call(this),e&&e.call(this)}:void 0}function c(e){return u.isString(e)&&d.View.info(e)||e}function f(e,n){return u.isUndefined(e)||e===n}function l(e,n,t){t=u.clone(t);var i=c(t.pop()),r=a.bind(e);return u(n).chain().get("mixins",[]).concat(t).reverse().unshift(n).map(function(e){return u.pick(c(e),p)}).push(r).thru(h).mergeWith(u.pick(i,v),r).defaults(n).value()}var u=t(1),d=t(2),p=["methods","ctor","events","models"],v=["ctor","events","models"],h=u.spread(u.mergeWith),m=u.wrap(u.invoke,function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];var r=t.shift();e.apply(void 0,[window,"console.warn","[ns.View.edefine] "+r].concat(t))}),w=u.wrap(u.invoke,function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];var r=t.shift();e.apply(void 0,[window,"console.log","[ns.View.edefine] "+r].concat(t))});[d.View,d.ViewCollection].forEach(function(e){e.edefine=function(n,t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return d.DEBUG&&w("Определение вида %s: %o",n,r),e.define(n,l(e,t,r),u.last(r))},e.edefineModelEvents=function(n){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return u.defaults({},n,u.get(e._formatModelsDecl({test:t}),"test"))}})},function(e,n){e.exports=_},function(e,n){e.exports=ns}]);
//# sourceMappingURL=edefine.min.js.map