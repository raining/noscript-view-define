!function(n){function e(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return n[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){"use strict";function i(n,e){for(var t=arguments.length,i=Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var o=n&&(u.isFunction(n)?n.apply(this,i):u.invoke.apply(u,[this,n].concat(i))),a=e&&(u.isFunction(e)?e.apply(this,i):u.invoke.apply(u,[this,e].concat(i)));!d.DEBUG||u.isUndefined(o)&&u.isUndefined(a)||m("Обработчик события не должен возвращать результат")}function r(n,e,t){return f(n,e)?e:(("invalidate"===n&&"keepValid"===e||"keepValid"===n&&"invalidate"===e)&&d.assert.fail("ns.View.edefine","Попытка определить подписки с противоположными действиями. Событие: %s",t),u.wrap(n,u.wrap(e,i)))}function o(n,e){return f(n,e)?e:u.mergeWith(n,e,r)}function a(n,e){return f(n,e)?e:n}function s(n,e,t){return f(n,e)?e:"methods"===t?u.mergeWith(n,e,a):"events"===t?o(n,e):"models"===t?u.mergeWith(this._formatModelsDecl(n),this._formatModelsDecl(e),o):"ctor"===t?function(){e&&e.call(this),n&&n.call(this)}:void 0}function c(n){return u.isString(n)&&d.View.info(n)||n}function f(n,e){return u.isUndefined(n)||n===e}function l(n,e,t){t=u.clone(t);var i=c(t.pop()),r=s.bind(n);return u(e).chain().get("mixins",[]).concat(t).reverse().unshift(e).map(function(n){return u.pick(c(n),p)}).push(r).thru(v).mergeWith(u.pick(i,h),r).defaults(e).value()}var u=t(1),d=t(2),p=["methods","ctor","events","models"],h=["ctor","events","models"],v=u.spread(u.mergeWith),m=u.wrap(u.invoke,function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=t.shift();n.apply(void 0,[window,"console.warn","[ns.View.edefine] "+r].concat(t))}),w=u.wrap(u.invoke,function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=t.shift();n.apply(void 0,[window,"console.log","[ns.View.edefine] "+r].concat(t))});[d.View,d.ViewCollection].forEach(function(n){n.edefine=function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return d.DEBUG&&w("Определение вида %s: %o",e,r),n.define(e,l(n,t,r),u.last(r))}})},function(n,e){n.exports=_},function(n,e){n.exports=ns}]);
//# sourceMappingURL=edefine.min.js.map